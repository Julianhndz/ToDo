{% extends 'task/base.html' %}
{% block content %}
<h1>Task Detail</h1>
<h3>{{ task.title }}</h3>
    <form action="" method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <button>
            Uptade Task
        </button>
    </form>
    <form id="delete-form" action="{% url 'taskDelete' task.id %}" method="POST">
        {% csrf_token %}
        <button type="button" id="delete-button">
            Delete Task
        </button>
    </form>
    <script>
        document.addEventListener("DOMContentLoaded", function (){
            const deleteButton = document.getElementById("delete-button");
            const deleteForm = document.getElementById("delete-form");
            
            deleteButton.addEventListener("click", function () {
                const confirmed = confirm("Are you sure you want to delete this task?");
                if(confirmed){
                    deleteForm.submit();
                }
            });
        });
    </script>
{% endblock  %}